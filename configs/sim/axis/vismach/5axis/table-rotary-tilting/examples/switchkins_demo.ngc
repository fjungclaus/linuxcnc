; ngcgui-compatible subroutine
(info: helix in each quadrant at angles A,C)
o<switchkins_demo>sub
   #<zmax> = #1 (=10)
   #<zmin> = #2 (= 5)
      #<r> = #3 (=10 radius)
  #<frate> = #4 (=1000 feedrate)
      #<n> = #5 (=3  n circles)
      #<a> = #6 (=20 A angle)
      #<c> = #7 (=45 C angle)
    #<xy1> = #8 (=20 distance)

; quadrant I
g53 g0   x0y0 z#<zmax> a0 c0   ;MACHINE coordinates
g10l20p0 x0y0 z#<zmax> a0 c0   ;new g54
g0 x+#<xy1> y+#<xy1> z#<zmax>  ;move to center position
o<helix_ac> call [#<zmax>][#<zmin>][#<r>][#<frate>][#<n>][#<a>][#<c>]

; quadrant II
g53 g0   x0y0 z#<zmax> a0 c0
g10l20p0 x0y0 z#<zmax> a0 c0
g0 x-#<xy1> y+#<xy1> z#<zmax>
o<helix_ac> call [#<zmax>][#<zmin>][#<r>][#<frate>][#<n>][#<a>][#<c>]

; quadrant III
g53 g0   x0y0 z#<zmax> a0 c0 ;MACHINE coordinates
g10l20p0 x0y0 z#<zmax> a0 c0 ;new g54
g0 x-#<xy1> y-#<xy1> z#<zmax>
o<helix_ac> call [#<zmax>][#<zmin>][#<r>][#<frate>][#<n>][#<a>][#<c>]

; quadrant IV
g53 g0   x0y0 z#<zmax> a0 c0 ;MACHINE coordinates
g10l20p0 x0y0 z#<zmax> a0 c0 ;new g54
g0 x+#<xy1> y-#<xy1> z#<zmax>
o<helix_ac> call [#<zmax>][#<zmin>][#<r>][#<frate>][#<n>][#<a>][#<c>]

;final position
g53 g0   x0y0 z#<zmax> a0 c0 ;MACHINE coordinates
g10l20p0 x0y0 z#<zmax> a0 c0 ;new g54

o<switchkins_demo>endsub
